// Search input component styling
// Provides clear button and instant visual feedback

.search-input-container {
  position: relative;
  display: inline-block;
  width: 100%;

  // Search input styling
  .search-input {
    // Padding-right to accommodate clear button
    padding-right: 2rem;

    // Remove default browser search clear button
    &::-webkit-search-cancel-button {
      display: none;
      -webkit-appearance: none;
    }

    // Instant feedback - subtle border color change when active
    &.search-input-active {
      border-color: var(--medical-blue-500) !important;
      box-shadow: 0 0 0 0.15rem rgba(33, 150, 243, 0.15);
    }

    // Focus state - uses form control focus from 16-04
    &:focus {
      border-color: var(--medical-blue-500);
      box-shadow: 0 0 0 0.25rem var(--focus-ring-color);
      outline: 0;
    }
  }

  // Clear button styling
  .search-clear-btn {
    position: absolute;
    right: 0.5rem;
    top: 50%;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    padding: 0.25rem;
    color: var(--neutral-500);
    cursor: pointer;
    font-size: 1rem;
    line-height: 1;
    transition: color var(--transition-fast);
    z-index: 10;

    // Hover state
    &:hover {
      color: var(--status-danger);
    }

    // Focus state for keyboard navigation
    &:focus-visible {
      outline: var(--focus-ring-width) solid var(--focus-ring-color);
      outline-offset: var(--focus-ring-offset);
      border-radius: 50%;
    }

    // Remove default focus styles for mouse users
    &:focus:not(:focus-visible) {
      outline: none;
    }

    // Icon sizing
    .bi {
      display: block;
      width: 1rem;
      height: 1rem;
    }
  }

  // Loading indicator styling
  .search-loading {
    position: absolute;
    right: 0.5rem;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;

    .spinner-border-sm {
      width: 1rem;
      height: 1rem;
      border-width: 0.15rem;
      color: var(--medical-blue-500);
    }
  }
}

// Compact variant for dense layouts
.search-input-container-compact {
  .search-input {
    padding-right: 1.75rem;
    font-size: 0.875rem;
  }

  .search-clear-btn {
    right: 0.375rem;
    font-size: 0.875rem;

    .bi {
      width: 0.875rem;
      height: 0.875rem;
    }
  }

  .search-loading {
    right: 0.375rem;

    .spinner-border-sm {
      width: 0.875rem;
      height: 0.875rem;
    }
  }
}
