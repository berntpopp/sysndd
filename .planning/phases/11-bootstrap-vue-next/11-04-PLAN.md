---
phase: 11-bootstrap-vue-next
plan: 04
type: execute
wave: 2
depends_on: ["11-01"]
files_modified:
  - app/src/views/Login.vue
  - app/src/views/Register.vue
  - app/src/views/PasswordReset.vue
  - app/src/views/User.vue
  - app/src/views/curate/Curate.vue
  - app/src/components/small/SearchInputGroup.vue
autonomous: true

must_haves:
  truths:
    - "All forms accept user input correctly"
    - "Form validation displays error states"
    - "Form submission works (login, register, etc.)"
    - "No :value.sync on form inputs"
    - "Checkbox and radio inputs work correctly"
  artifacts:
    - path: "app/src/views/Login.vue"
      provides: "Migrated login form with BForm components"
      contains: "BFormInput"
    - path: "app/src/views/Register.vue"
      provides: "Migrated registration form"
      contains: "BFormInput"
  key_links:
    - from: "Login.vue"
      to: "API endpoint"
      via: "form submission"
      pattern: "handleSubmit|onSubmit"
    - from: "form inputs"
      to: "v-model"
      via: "two-way binding"
      pattern: "v-model="
---

<objective>
Migrate form components to Bootstrap-Vue-Next BForm API

Purpose: Update all form inputs, checkboxes, radios, and selects to Bootstrap-Vue-Next syntax. This ensures forms continue to work correctly with Bootstrap 5 styling and validation states.

Output:
- All b-form-* components updated to BForm* naming
- .sync modifiers on form inputs replaced with v-model
- Form validation state bindings updated for Bootstrap 5
- All forms (Login, Register, PasswordReset, Curate) functional
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-bootstrap-vue-next/11-CONTEXT.md
@.planning/phases/11-bootstrap-vue-next/11-RESEARCH.md
@.planning/phases/11-bootstrap-vue-next/11-01-SUMMARY.md
@app/src/views/Login.vue
@app/src/views/Register.vue
@app/src/views/PasswordReset.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Login, Register, PasswordReset form components</name>
  <files>app/src/views/Login.vue, app/src/views/Register.vue, app/src/views/PasswordReset.vue</files>
  <action>
Update the three authentication-related forms for Bootstrap-Vue-Next:

1. Component naming (if using explicit imports):
   ```javascript
   // Before
   import { BForm, BFormGroup, BFormInput } from 'bootstrap-vue'

   // After (or rely on auto-registration from createBootstrap)
   import { BForm, BFormGroup, BFormInput, BButton } from 'bootstrap-vue-next'
   ```

2. Template updates - component names are now PascalCase:
   ```vue
   <!-- Before -->
   <b-form @submit.prevent="onSubmit">
     <b-form-group label="Email" label-for="email-input">
       <b-form-input
         id="email-input"
         v-model="email"
         type="email"
         :state="emailState"
       />
     </b-form-group>
   </b-form>

   <!-- After -->
   <BForm @submit.prevent="onSubmit">
     <BFormGroup label="Email" label-for="email-input">
       <BFormInput
         id="email-input"
         v-model="email"
         type="email"
         :state="emailState"
       />
     </BFormGroup>
   </BForm>
   ```

3. Validation state binding (should work the same):
   - `:state="true"` = valid (green)
   - `:state="false"` = invalid (red)
   - `:state="null"` = neutral

4. Replace any .sync modifiers:
   ```vue
   <!-- Before -->
   <b-form-input :value.sync="email" />

   <!-- After -->
   <BFormInput v-model="email" />
   ```

5. Update b-button to BButton if explicit imports used:
   ```vue
   <!-- Before -->
   <b-button type="submit" variant="primary">Login</b-button>

   <!-- After -->
   <BButton type="submit" variant="primary">Login</BButton>
   ```

Note: These forms also use vee-validate (ValidationObserver, ValidationProvider). That migration is handled in 11-06. For now, keep vee-validate wrappers - they will continue to work with @vue/compat.
  </action>
  <verify>
Test login form submission end-to-end:
1. Navigate to /login
2. Enter valid credentials (email and password)
3. Click submit button
4. **Verify API call is made** - check Network tab for POST to /api/auth or similar endpoint
5. **Verify auth flow works** - successful login redirects to dashboard/home, failed login shows error toast
6. Test validation states - try invalid email format, verify red border appears

Also test Register and PasswordReset forms accept input and submit without JS errors.
  </verify>
  <done>
Login, Register, PasswordReset forms use Bootstrap-Vue-Next BForm components. Forms submit correctly and API calls are made. Validation states display.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update form inputs in Curate and User views</name>
  <files>app/src/views/curate/Curate.vue, app/src/views/User.vue</files>
  <action>
Update form components in data curation and user profile views:

1. Curate.vue - Contains complex forms for data entry:
   - Update all b-form-* to BForm*
   - Update b-form-select to BFormSelect
   - Update b-form-textarea to BFormTextarea
   - Update b-form-checkbox and b-form-radio

2. User.vue - User profile editing:
   - Update form inputs for profile fields
   - Update any select or checkbox components

3. Checkbox syntax update:
   ```vue
   <!-- Before -->
   <b-form-checkbox v-model="checked" value="yes" unchecked-value="no">
     Label
   </b-form-checkbox>

   <!-- After -->
   <BFormCheckbox v-model="checked" value="yes" unchecked-value="no">
     Label
   </BFormCheckbox>
   ```

4. Radio group update:
   ```vue
   <!-- Before -->
   <b-form-radio-group v-model="selected" :options="options" />

   <!-- After -->
   <BFormRadioGroup v-model="selected" :options="options" />
   ```

5. Select update:
   ```vue
   <!-- Before -->
   <b-form-select v-model="selected" :options="options" />

   <!-- After -->
   <BFormSelect v-model="selected" :options="options" />
   ```

6. Textarea update:
   ```vue
   <!-- Before -->
   <b-form-textarea v-model="text" rows="3" />

   <!-- After -->
   <BFormTextarea v-model="text" rows="3" />
   ```

Search for all form component usages:
```bash
grep -r "b-form-" app/src/views/ --include="*.vue" -l
```
  </action>
  <verify>
Navigate to Curate view (if accessible with auth) and User profile:
- Form inputs accept text
- Selects show options and allow selection
- Checkboxes toggle
- Form submission works
  </verify>
  <done>
Curate and User view forms use Bootstrap-Vue-Next components. All input types (text, select, checkbox, radio, textarea) functional.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update small form-related components</name>
  <files>app/src/components/small/SearchInputGroup.vue, other small components with forms</files>
  <action>
Update small reusable components that contain form elements:

1. Search for components with form elements:
   ```bash
   grep -r "b-form-\|b-input-group" app/src/components/small --include="*.vue" -l
   ```

2. SearchInputGroup.vue and similar:
   ```vue
   <!-- Before -->
   <b-input-group>
     <b-form-input v-model="search" placeholder="Search..." />
     <b-input-group-append>
       <b-button @click="clearSearch">Clear</b-button>
     </b-input-group-append>
   </b-input-group>

   <!-- After -->
   <BInputGroup>
     <BFormInput v-model="search" placeholder="Search..." />
     <BInputGroupAppend>
       <BButton @click="clearSearch">Clear</BButton>
     </BInputGroupAppend>
   </BInputGroup>
   ```

3. Update TableSearchInput.vue if it has form components.

4. Update TablePaginationControls.vue if it has per-page select.

5. For any b-form-invalid-feedback or b-form-valid-feedback:
   ```vue
   <!-- Before -->
   <b-form-invalid-feedback :state="state">Error message</b-form-invalid-feedback>

   <!-- After -->
   <BFormInvalidFeedback :state="state">Error message</BFormInvalidFeedback>
   ```

6. Check for any remaining form-related components:
   ```bash
   grep -rE "b-form|b-input" app/src/components --include="*.vue" | grep -v "BForm\|BInput"
   ```
  </action>
  <verify>
Test search functionality:
- Type in search input in table views
- Verify input accepts text
- Verify clear button works
- Verify search triggers filtering
  </verify>
  <done>
All small components with form elements updated to Bootstrap-Vue-Next. Search inputs, pagination controls, and form groups all functional.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Form functionality verification:
   - Login: Enter email/password, submit, verify auth works
   - Register: Fill all fields, submit (may need test environment)
   - PasswordReset: Enter email, submit request
   - Search inputs: Type and verify filtering

2. Validation state verification:
   - Leave required field empty, verify error state (red border)
   - Fill correctly, verify valid state or neutral

3. Code verification:
   ```bash
   # Count remaining lowercase b-form- usages (should decrease significantly)
   grep -r "b-form-" app/src --include="*.vue" | grep -v "BForm" | wc -l

   # No .sync on form inputs
   grep -r ":value.sync" app/src --include="*.vue" | wc -l  # Should be 0
   ```

4. Console check:
   - No "Unknown component: b-form-input" warnings
   - No prop warnings for form components
</verification>

<success_criteria>
- Login, Register, PasswordReset forms use BForm* components and submit correctly
- Curate and User views use BForm* components
- All small components with forms updated (SearchInputGroup, etc.)
- Form validation states display correctly (valid/invalid feedback)
- No b-form-* lowercase component names remaining (all migrated to BForm*)
- No .sync modifiers on form input values
</success_criteria>

<output>
After completion, create `.planning/phases/11-bootstrap-vue-next/11-04-SUMMARY.md`
</output>
