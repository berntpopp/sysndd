---
phase: 16-ui-ux-modernization
plan: 04
type: execute
wave: 2
depends_on: ["16-01"]
files_modified:
  - app/src/assets/scss/components/_forms.scss
  - app/src/assets/scss/custom.scss
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Form inputs have consistent spacing using spacing tokens"
    - "Focus states show colored border with subtle glow"
    - "Labels are positioned above inputs (stacked)"
    - "Validation feedback appears inline below fields"
  artifacts:
    - path: "app/src/assets/scss/components/_forms.scss"
      provides: "Form styling with focus states and validation"
      contains: ".form-control"
  key_links:
    - from: "app/src/assets/scss/components/_forms.scss"
      to: "partials/_animations.scss"
      via: "Focus ring tokens"
      pattern: "var\\(--focus-ring"
---

<objective>
Improve form styling with consistent spacing, enhanced focus states, and accessible validation feedback.

Purpose: Per CONTEXT.md decisions: "Focus states: Colored border + glow", "Label positioning: Above inputs (stacked)", "Validation display: Inline below field". This creates a clear, accessible form experience for medical data entry.

Output: Form styling SCSS partial that enhances Bootstrap form controls with medical-appropriate focus states and validation styling.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-ui-ux-modernization/16-CONTEXT.md
@.planning/phases/16-ui-ux-modernization/16-RESEARCH.md
@.planning/phases/16-ui-ux-modernization/16-01-SUMMARY.md
@app/src/views/Login.vue
@app/src/views/Register.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create form styling partial with enhanced focus states</name>
  <files>
    app/src/assets/scss/components/_forms.scss
    app/src/assets/scss/custom.scss
  </files>
  <action>
    Create `components/_forms.scss` with form styling:

    1. Form group spacing:
       - margin-bottom: var(--spacing-base) for .form-group/.mb-3
       - Consistent vertical rhythm

    2. Label styling (stacked, above input per CONTEXT):
       - display: block
       - margin-bottom: 0.25rem
       - font-weight: 500
       - color: var(--bs-body-color)

    3. Focus states (colored border + glow per CONTEXT):
       - .form-control:focus, .form-select:focus
       - border-color: var(--medical-blue-500)
       - box-shadow: 0 0 0 var(--focus-ring-width) var(--focus-ring-color)
       - outline: none (custom focus replaces default)
       - transition: border-color var(--transition-fast), box-shadow var(--transition-fast)

    4. Input sizing consistency:
       - padding: 0.5rem 0.75rem for default
       - border-radius: var(--radius-sm)

    5. Placeholder styling:
       - color: var(--bs-secondary)
       - opacity: 0.7

    6. Update custom.scss to import components/_forms.scss

    Add reduced-motion support for focus transitions.
  </action>
  <verify>
    - app/src/assets/scss/components/_forms.scss exists
    - Contains :focus styles with --focus-ring-color
    - Build succeeds: `npm run build --prefix app`
  </verify>
  <done>
    Form styling partial created with enhanced focus states using medical blue
  </done>
</task>

<task type="auto">
  <name>Task 2: Add validation feedback styling</name>
  <files>app/src/assets/scss/components/_forms.scss</files>
  <action>
    Add validation feedback styles to _forms.scss (per CONTEXT: "inline below field"):

    1. Invalid state styling:
       - .form-control.is-invalid border-color: var(--status-danger)
       - Focus on invalid: combine red border with red-tinted glow
       - box-shadow: 0 0 0 var(--focus-ring-width) rgba(198, 40, 40, 0.25)

    2. Invalid feedback positioning:
       - .invalid-feedback display: block when sibling is .is-invalid
       - margin-top: 0.25rem
       - font-size: 0.875rem
       - color: var(--status-danger)

    3. Valid state (optional enhancement):
       - .form-control.is-valid border-color: var(--status-success)
       - Subtle green glow on focus

    4. Required field indicator:
       - .required-label::after with red asterisk
       - aria-label: "required" for accessibility

    5. Disabled state:
       - Proper contrast for disabled inputs
       - Cursor: not-allowed
  </action>
  <verify>
    - _forms.scss contains .is-invalid and .invalid-feedback styles
    - Contains --status-danger color reference
    - Build succeeds
  </verify>
  <done>
    Validation feedback styling added with inline display below fields
  </done>
</task>

</tasks>

<verification>
```bash
# Build succeeds
npm run build --prefix app

# Check form styles in output
grep -r "form-control\|focus-ring\|invalid" app/dist/assets/*.css | head -5

# Start dev and check Login form
npm run dev --prefix app &
sleep 3
echo "Check http://localhost:5173/Login for form styling"
echo "Tab through form to see focus states"
kill %1
```
</verification>

<success_criteria>
- [ ] components/_forms.scss created
- [ ] Focus states use colored border + glow (medical blue)
- [ ] Labels styled for stacked/above positioning
- [ ] Validation feedback inline below fields
- [ ] Invalid state uses status-danger color
- [ ] Focus transitions respect prefers-reduced-motion
- [ ] Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/16-ui-ux-modernization/16-04-SUMMARY.md`
</output>
