---
phase: 16-ui-ux-modernization
plan: 03
type: execute
wave: 2
depends_on: ["16-01"]
files_modified:
  - app/src/assets/scss/components/_tables.scss
  - app/src/assets/scss/custom.scss
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Tables have subtle zebra striping with alternating row colors"
    - "Row hover provides subtle highlight for tracking across wide tables"
    - "Sort column headers show icon and background highlight"
    - "Table borders are refined with better styling"
  artifacts:
    - path: "app/src/assets/scss/components/_tables.scss"
      provides: "Enhanced table styling"
      contains: ".table"
  key_links:
    - from: "app/src/assets/scss/components/_tables.scss"
      to: "partials/_colors.scss"
      via: "CSS custom properties"
      pattern: "var\\(--medical-blue"
---

<objective>
Enhance table styling with improved hover states, zebra striping, and sort indicators.

Purpose: Tables are the primary data presentation format in this medical database application. Per CONTEXT.md: "Row hover: Subtle highlight for tracking across wide tables", "Zebra striping: Yes, subtle alternating row colors", "Sort indicators: Icon + highlight".

Output: Table styling SCSS partial that improves data readability while maintaining compact density for power users.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-ui-ux-modernization/16-CONTEXT.md
@.planning/phases/16-ui-ux-modernization/16-RESEARCH.md
@.planning/phases/16-ui-ux-modernization/16-01-SUMMARY.md
@app/src/components/tables/TablesGenes.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create table styling partial with zebra striping and hover</name>
  <files>
    app/src/assets/scss/components/_tables.scss
    app/src/assets/scss/custom.scss
  </files>
  <action>
    Create `components/_tables.scss` with enhanced table styling:

    1. Zebra striping (subtle per CONTEXT):
       - --bs-table-striped-bg: rgba(0, 0, 0, 0.02) (very subtle)
       - Apply to .table-striped tbody tr:nth-of-type(odd)

    2. Row hover (subtle highlight per CONTEXT):
       - --bs-table-hover-bg: rgba(13, 71, 161, 0.05) (medical blue at 5%)
       - Ensure hover doesn't conflict with striped bg
       - transition: background-color var(--transition-fast)

    3. Table header styling:
       - Slightly darker background for .thead-light
       - font-weight: 600 for headers
       - Border-bottom: 2px solid var(--bs-border-color)

    4. Border refinements:
       - Softer borders using rgba(0, 0, 0, 0.08)
       - Remove double borders between cells
       - Consistent border-radius on table container

    5. Compact table variant:
       - .table-compact with tighter cell padding
       - For data-heavy views (genes, entities tables)

    6. Update custom.scss to import components/_tables.scss

    Add reduced-motion support for hover transitions.
  </action>
  <verify>
    - app/src/assets/scss/components/_tables.scss exists
    - Contains --bs-table-striped-bg and --bs-table-hover-bg
    - Build succeeds: `npm run build --prefix app`
  </verify>
  <done>
    Table styling partial created with subtle zebra striping and row hover
  </done>
</task>

<task type="auto">
  <name>Task 2: Add sort indicator styling for table headers</name>
  <files>app/src/assets/scss/components/_tables.scss</files>
  <action>
    Add sort indicator styles to _tables.scss (per CONTEXT: "Icon + highlight"):

    1. Sortable header base:
       - cursor: pointer on th[aria-sort]
       - user-select: none to prevent text selection while sorting

    2. Sort icon styling:
       - Use CSS ::after pseudo-element for sort arrows
       - Ascending: border-bottom triangle
       - Descending: border-top triangle
       - Neutral: both arrows (optional, or hide)

    3. Active sort column highlight:
       - Background color: rgba(13, 71, 161, 0.08) on th[aria-sort]:not([aria-sort="none"])
       - font-weight: 600 on active sort column

    4. Focus states for keyboard navigation:
       - Visible focus indicator on sortable headers
       - Uses focus ring tokens from 16-01

    Note: Bootstrap-Vue-Next BTable already adds aria-sort attributes. Style based on these attributes.
  </action>
  <verify>
    - _tables.scss contains th[aria-sort] styles
    - Contains background highlight for active sort column
    - Build succeeds
  </verify>
  <done>
    Sort indicator styling added with icon and column highlight
  </done>
</task>

</tasks>

<verification>
```bash
# Build succeeds
npm run build --prefix app

# Check table styles in output
grep -r "table-striped\|table-hover\|aria-sort" app/dist/assets/*.css | head -5

# Start dev and check Genes table
npm run dev --prefix app &
sleep 3
echo "Check http://localhost:5173/Genes for table styling"
kill %1
```
</verification>

<success_criteria>
- [ ] components/_tables.scss created
- [ ] Zebra striping at 2% opacity (subtle)
- [ ] Row hover at 5% medical blue
- [ ] Sort column headers have icon and background highlight
- [ ] Compact table variant available
- [ ] Transitions respect prefers-reduced-motion
- [ ] Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/16-ui-ux-modernization/16-03-SUMMARY.md`
</output>
