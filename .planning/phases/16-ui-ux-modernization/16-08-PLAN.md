---
phase: 16-ui-ux-modernization
plan: 08
type: execute
wave: 4
depends_on: ["16-01", "16-02", "16-03", "16-04"]
files_modified:
  - app/src/assets/scss/utilities/_accessibility.scss
  - app/src/assets/scss/custom.scss
  - app/src/components/ui/EmptyState.vue
autonomous: false
user_setup: []

must_haves:
  truths:
    - "Color contrast meets WCAG 2.2 AA (4.5:1 for text, 3:1 for UI)"
    - "Focus indicators visible on all interactive elements"
    - "Keyboard navigation works for all interactive elements"
    - "Reduced motion support implemented"
  artifacts:
    - path: "app/src/assets/scss/utilities/_accessibility.scss"
      provides: "Accessibility utilities and overrides"
      contains: "focus-visible"
  key_links:
    - from: "app/src/assets/scss/utilities/_accessibility.scss"
      to: "partials/_animations.scss"
      via: "Focus ring tokens"
      pattern: "var\\(--focus-ring"
---

<objective>
Verify and polish accessibility compliance for WCAG 2.2 Level AA.

Purpose: Per NFR-03 (all sub-requirements) and FR-07.10: "Ensure WCAG 2.2 Level AA compliance (contrast, focus indicators)". This plan verifies the accessibility work done in previous plans and adds any missing polish.

Output: Accessibility utilities SCSS, verified color contrast, enhanced focus indicators, and keyboard navigation testing.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-ui-ux-modernization/16-CONTEXT.md
@.planning/phases/16-ui-ux-modernization/16-RESEARCH.md
@.planning/phases/16-ui-ux-modernization/16-01-SUMMARY.md
@.planning/phases/16-ui-ux-modernization/16-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create accessibility utilities and verify focus indicators</name>
  <files>
    app/src/assets/scss/utilities/_accessibility.scss
    app/src/assets/scss/custom.scss
  </files>
  <action>
    Create `utilities/_accessibility.scss` with accessibility enhancements:

    1. Focus-visible for all interactive elements:
       - *:focus-visible with outline using focus tokens
       - Ensure outline-offset for visibility
       - Box-shadow fallback for browsers without focus-visible

    2. Skip link (screen reader jump to main content):
       - .skip-link class positioned off-screen
       - Visible on focus for keyboard users
       - Links to main content area

    3. Screen reader only class:
       - .sr-only (Bootstrap provides, but verify)
       - .sr-only-focusable for skip links

    4. High contrast mode support:
       - @media (prefers-contrast: more) adjustments
       - Increase border widths
       - Ensure text meets contrast

    5. Link styling:
       - Underline links for visibility (not just color)
       - Focus state on links

    6. Update custom.scss to import utilities/_accessibility.scss
  </action>
  <verify>
    - app/src/assets/scss/utilities/_accessibility.scss exists
    - Contains :focus-visible styles
    - Build succeeds: `npm run build --prefix app`
  </verify>
  <done>
    Accessibility utilities created with focus-visible and skip link support
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify color contrast compliance</name>
  <files>app/src/assets/scss/partials/_colors.scss</files>
  <action>
    Verify and document color contrast ratios:

    1. Check medical blue palette:
       - --medical-blue-700 (#0d47a1) on white: 8.59:1 (passes AA)
       - --medical-blue-500 (#1565c0) on white: should be > 4.5:1

    2. Check medical teal palette:
       - --medical-teal-700 (#00695c) on white: 6.34:1 (passes AA)

    3. Check status colors:
       - --status-success (#2e7d32) on white: 5.09:1 (passes AA)
       - --status-warning (#f57c00) on white: verify 4.5:1
       - --status-danger (#c62828) on white: verify 4.5:1

    4. Check secondary text:
       - Ensure .text-muted meets 4.5:1 contrast
       - Adjust if necessary (use #595959 minimum)

    5. Add comment documentation in _colors.scss with contrast ratios

    Use WebAIM Contrast Checker to verify: https://webaim.org/resources/contrastchecker/
  </action>
  <verify>
    - _colors.scss contains contrast ratio comments
    - All text colors meet 4.5:1 minimum
    - All UI component colors meet 3:1 minimum
  </verify>
  <done>
    Color contrast verified and documented, all colors meet WCAG 2.2 AA
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete accessibility implementation across Phase 16:
    - Focus indicators on all interactive elements
    - Color contrast meeting WCAG 2.2 AA
    - Keyboard navigation
    - Reduced motion support
  </what-built>
  <how-to-verify>
    1. Start dev server: `npm run dev --prefix app`
    2. Open http://localhost:5173/Login in browser

    Keyboard navigation test:
    - Press Tab to navigate through the form
    - Verify focus ring is visible on each field
    - Verify focus ring uses medical blue color
    - Navigate to buttons and verify focus visibility

    Color contrast test:
    - Use browser accessibility tools (Chrome DevTools > Lighthouse > Accessibility)
    - Or use axe DevTools extension
    - Verify no contrast violations

    Reduced motion test:
    - Enable "Reduce motion" in OS settings
    - Refresh page
    - Verify animations are minimal or instant

    Screen reader test (optional):
    - Use VoiceOver (Mac) or NVDA (Windows)
    - Navigate through Login form
    - Verify form fields are announced correctly
  </how-to-verify>
  <resume-signal>Type "accessibility approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
```bash
# Build succeeds
npm run build --prefix app

# Run vitest accessibility tests (from Phase 15)
npm run test --prefix app -- --grep "a11y\|accessibility"

# Check accessibility styles
grep -r "focus-visible\|sr-only\|prefers-contrast" app/dist/assets/*.css | head -5
```
</verification>

<success_criteria>
- [ ] Accessibility utilities SCSS created
- [ ] Focus indicators visible on all interactive elements
- [ ] Color contrast verified (4.5:1 text, 3:1 UI)
- [ ] Reduced motion support confirmed
- [ ] Keyboard navigation tested
- [ ] No WCAG 2.2 AA violations in Lighthouse
- [ ] Human verification passed
</success_criteria>

<output>
After completion, create `.planning/phases/16-ui-ux-modernization/16-08-SUMMARY.md`
</output>
