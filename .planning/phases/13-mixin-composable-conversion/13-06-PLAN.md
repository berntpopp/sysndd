---
phase: 13-mixin-composable-conversion
plan: 06
type: execute
wave: 5
depends_on: ["13-05"]
files_modified:
  - app/src/assets/js/mixins/ (DELETE directory)
  - app/src/assets/js/global-components.js (UPDATE or DELETE)
autonomous: false

must_haves:
  truths:
    - "No mixin imports exist in codebase"
    - "Mixins directory is deleted"
    - "Build succeeds without mixins"
    - "All functionality preserved"
  artifacts:
    - path: "app/src/assets/js/mixins/"
      provides: "Directory no longer exists"
      min_lines: 0
  key_links:
    - from: "codebase"
      to: "composables only"
      via: "no mixin references"
      pattern: "grep -r mixin.*import.*should return nothing"
---

<objective>
Final cleanup: verify no mixin imports remain and delete mixins directory.

Purpose: Complete the mixin-to-composable migration by removing all legacy mixin code. This is the final step that ensures the codebase is fully migrated.

Output: Mixins directory deleted, build verified, phase complete
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/13-mixin-composable-conversion/13-CONTEXT.md

# Prior plan summaries
@.planning/phases/13-mixin-composable-conversion/13-01-SUMMARY.md
@.planning/phases/13-mixin-composable-conversion/13-02-SUMMARY.md
@.planning/phases/13-mixin-composable-conversion/13-03-SUMMARY.md
@.planning/phases/13-mixin-composable-conversion/13-04-SUMMARY.md
@.planning/phases/13-mixin-composable-conversion/13-05-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify no mixin imports remain</name>
  <files>None (verification only)</files>
  <action>
Run comprehensive verification that no mixin imports exist:

```bash
# Check for any mixin imports in Vue files
grep -r "from '@/assets/js/mixins" app/src --include="*.vue"

# Check for mixins: array in Vue files
grep -r "mixins: \[" app/src --include="*.vue"

# Check for any reference to mixin files
grep -r "Mixin" app/src --include="*.vue" --include="*.js"

# Check for require() style imports
grep -r "require.*mixin" app/src --include="*.vue" --include="*.js"
```

All commands should return empty (no matches).

If any mixin imports are found:
1. List the files
2. Go back and fix them following patterns from 13-02 through 13-05
3. Re-run verification
  </action>
  <verify>
All grep commands return 0 matches:
- No mixin imports
- No mixins: [] arrays
- No Mixin references in component files
  </verify>
  <done>Verified no mixin imports remain in codebase</done>
</task>

<task type="auto">
  <name>Task 2: Delete mixins directory and update related files</name>
  <files>app/src/assets/js/mixins/, app/src/assets/js/global-components.js</files>
  <action>
1. Delete the mixins directory:
```bash
rm -rf app/src/assets/js/mixins
```

2. Check global-components.js for any mixin-related code:
   - If it registers mixins globally, remove that code
   - If file only contained mixin registrations, consider removing it entirely
   - If file has other purposes, keep it but remove mixin code

3. Verify the directory is gone:
```bash
ls app/src/assets/js/mixins 2>&1 | grep "No such file"
```

4. Update any paths or imports that referenced the deleted directory.
  </action>
  <verify>
- app/src/assets/js/mixins/ directory does not exist
- No dangling imports to deleted files
- global-components.js cleaned up (if needed)
  </verify>
  <done>Mixins directory deleted and related files updated</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete mixin-to-composable migration:
- 7 composables created (useColorAndSymbols, useText, useScrollbar, useToast, useUrlParsing, useTableData, useTableMethods)
- 50+ components updated to use composables
- Mixins directory deleted
  </what-built>
  <how-to-verify>
1. Start dev server: `cd app && npm run serve`

2. Test core functionality:
   - Navigate to Home page - verify colors/badges display correctly
   - Navigate to Genes table page
   - Test sorting (click column headers)
   - Test filtering (use search box)
   - Test pagination (change page, change per-page)
   - Trigger an error (e.g., invalid input) - verify toast appears and stays visible

3. Test authentication flow:
   - Go to Login page
   - Enter invalid credentials
   - Verify error toast appears (should NOT auto-hide)

4. Test a complex page:
   - Navigate to a Gene detail page
   - Verify all data displays with correct styling
   - Verify badges have correct colors

5. Build verification:
   - Run: `cd app && npm run build`
   - Should complete with no errors
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
1. No mixin files exist:
```bash
ls app/src/assets/js/mixins 2>&1
# Should show "No such file or directory"
```

2. No mixin imports:
```bash
grep -r "mixin" app/src --include="*.vue" --include="*.js" | grep -v "composables" | grep -v ".md"
# Should return empty or only comments
```

3. Build succeeds: `cd app && npm run build`

4. Human verification of functionality (checkpoint above)
</verification>

<success_criteria>
- Mixins directory deleted
- No mixin imports in codebase
- Build succeeds
- Human verifies all functionality works:
  - Table sorting/filtering/pagination
  - Toast notifications (especially error toasts staying visible)
  - Style/color mappings
  - Text label mappings
</success_criteria>

<output>
After completion, create `.planning/phases/13-mixin-composable-conversion/13-06-SUMMARY.md`
</output>
