---
phase: 36-curation-table-modernization
plan: 03
type: execute
wave: 2
depends_on:
  - 36-01
  - 36-02
files_modified:
  - app/src/views/curate/ApproveReview.vue
  - app/src/views/curate/ApproveStatus.vue
  - app/src/views/curate/ManageReReview.vue
autonomous: true

must_haves:
  truths:
    - "All icon-only action buttons in ApproveReview have aria-label"
    - "All icon-only action buttons in ApproveStatus have aria-label"
    - "All icon-only action buttons in ManageReReview have aria-label"
    - "All action buttons have tooltips describing their action"
  artifacts:
    - path: "app/src/views/curate/ApproveReview.vue"
      provides: "Accessible action buttons"
      contains: "aria-label"
    - path: "app/src/views/curate/ApproveStatus.vue"
      provides: "Accessible action buttons"
      contains: "aria-label"
    - path: "app/src/views/curate/ManageReReview.vue"
      provides: "Accessible action buttons"
      contains: "aria-label"
  key_links:
    - from: "BButton"
      to: "screen reader"
      via: "aria-label attribute"
      pattern: ":aria-label="
---

<objective>
Add accessibility labels (aria-label) and ensure tooltips on all icon-only action buttons in curation tables.

Purpose: Enable screen reader users to understand button actions and provide visual tooltips for all users (TBL-05, TBL-06).

Output: All three curation views with accessible action buttons that have both aria-label and v-b-tooltip.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/36-curation-table-modernization/36-RESEARCH.md

# Source files to modify
@app/src/views/curate/ApproveReview.vue
@app/src/views/curate/ApproveStatus.vue
@app/src/views/curate/ManageReReview.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add aria-labels to ApproveReview action buttons</name>
  <files>app/src/views/curate/ApproveReview.vue</files>
  <action>
Add aria-label attributes to all action buttons in ApproveReview.vue (lines 251-313).

Update each button in the actions column template:

1. Toggle details button (line 252-259):
```vue
<BButton
  v-b-tooltip.hover.left
  size="sm"
  class="me-1 btn-xs"
  variant="outline-primary"
  title="Toggle details"
  :aria-label="`Toggle details for entity ${row.item.entity_id}`"
  @click="row.toggleDetails"
>
  <i :class="'bi bi-' + (row.detailsShowing ? 'eye-slash' : 'eye')" />
</BButton>
```

2. Edit review button (line 261-270):
```vue
<BButton
  v-b-tooltip.hover.left
  size="sm"
  class="me-1 btn-xs"
  variant="secondary"
  title="Edit review"
  :aria-label="`Edit review for entity ${row.item.entity_id}`"
  @click="infoReview(row.item, row.index, $event.target)"
>
  <i class="bi bi-pen" />
</BButton>
```

3. Edit status button (line 272-291):
```vue
<BButton
  v-b-tooltip.hover.top
  size="sm"
  class="me-1 btn-xs"
  :variant="stoplights_style[row.item.active_category]"
  :title="row.item.status_change ? 'Edit new status' : 'Edit status'"
  :aria-label="`${row.item.status_change ? 'Edit new status' : 'Edit status'} for entity ${row.item.entity_id}`"
  @click="infoStatus(row.item, row.index, $event.target)"
>
  ...
</BButton>
```

4. Approve review button (line 293-302):
```vue
<BButton
  v-b-tooltip.hover.right
  size="sm"
  class="me-1 btn-xs"
  variant="danger"
  title="Approve review"
  :aria-label="`Approve review for entity ${row.item.entity_id}`"
  @click="infoApproveReview(row.item, row.index, $event.target)"
>
  <i class="bi bi-check2-circle" />
</BButton>
```

5. Duplicate warning button (line 303-312):
```vue
<BButton
  v-if="row.item.duplicate==='yes'"
  v-b-tooltip.hover.right
  variant="danger"
  title="Multiple unapproved reviews for this entity"
  :aria-label="`Warning: Multiple unapproved reviews for entity ${row.item.entity_id}`"
  size="sm"
  class="me-1 btn-xs"
>
  <i class="bi bi-exclamation-triangle-fill" />
</BButton>
```

NOTE: The toggle details button at line 252 is missing v-b-tooltip - add it with title="Toggle details".
  </action>
  <verify>Run `npm run lint --prefix app` passes. Grep for "aria-label" in ApproveReview.vue shows 5+ occurrences in actions column.</verify>
  <done>All ApproveReview action buttons have aria-label attributes and tooltips</done>
</task>

<task type="auto">
  <name>Task 2: Add aria-labels to ApproveStatus action buttons</name>
  <files>app/src/views/curate/ApproveStatus.vue</files>
  <action>
Add aria-label attributes to all action buttons in ApproveStatus.vue (lines 261-292).

Update each button in the actions column template:

1. Toggle details button (line 262-269):
```vue
<BButton
  v-b-tooltip.hover.left
  size="sm"
  class="me-1 btn-xs"
  variant="outline-primary"
  title="Toggle details"
  :aria-label="`Toggle details for entity ${row.item.entity_id}`"
  @click="row.toggleDetails"
>
  <i :class="'bi bi-' + (row.detailsShowing ? 'eye-slash' : 'eye')" />
</BButton>
```

2. Edit status button (line 271-280):
```vue
<BButton
  v-b-tooltip.hover.left
  size="sm"
  class="me-1 btn-xs"
  variant="secondary"
  title="Edit status"
  :aria-label="`Edit status for entity ${row.item.entity_id}`"
  @click="infoStatus(row.item, row.index, $event.target)"
>
  <i class="bi bi-stoplights" />
</BButton>
```

3. Approve status button (line 282-291):
```vue
<BButton
  v-b-tooltip.hover.right
  size="sm"
  class="me-1 btn-xs"
  variant="danger"
  title="Approve status"
  :aria-label="`Approve status for entity ${row.item.entity_id}`"
  @click="infoApproveStatus(row.item, row.index, $event.target)"
>
  <i class="bi bi-check2-circle" />
</BButton>
```

NOTE: The toggle details button at line 262 is missing v-b-tooltip - add it with title="Toggle details".
  </action>
  <verify>Run `npm run lint --prefix app` passes. Grep for "aria-label" in ApproveStatus.vue shows 3+ occurrences in actions column.</verify>
  <done>All ApproveStatus action buttons have aria-label attributes and tooltips</done>
</task>

<task type="auto">
  <name>Task 3: Add aria-labels to ManageReReview action buttons</name>
  <files>app/src/views/curate/ManageReReview.vue</files>
  <action>
Add aria-label attributes to all action buttons in ManageReReview.vue.

1. Update the "Unassign batch" button (lines 116-125):
```vue
<BButton
  v-b-tooltip.hover.top
  size="sm"
  class="me-1 btn-xs"
  title="Unassign this batch"
  :aria-label="`Unassign batch ${data.item.re_review_batch} from ${data.item.user_name}`"
  variant="danger"
  @click="handleBatchUnAssignment(data.item.re_review_batch)"
>
  <i class="bi bi-file-earmark-minus" />
</BButton>
```

2. Update the "Assign new batch" button (lines 56-64) to have aria-label:
```vue
<BButton
  block
  size="sm"
  variant="primary"
  aria-label="Assign new re-review batch to selected user"
  @click="handleNewBatchAssignment"
>
  <i class="bi bi-plus-square mx-1" />
  Assign new batch
</BButton>
```

NOTE: The "Assign new batch" button has visible text, so aria-label is optional but adds context.
  </action>
  <verify>Run `npm run lint --prefix app` passes. Grep for "aria-label" in ManageReReview.vue shows 2 occurrences.</verify>
  <done>All ManageReReview action buttons have aria-label attributes and tooltips</done>
</task>

</tasks>

<verification>
1. `npm run lint --prefix app` passes without errors
2. ApproveReview: All 5 action buttons have aria-label attributes
3. ApproveStatus: All 3 action buttons have aria-label attributes
4. ManageReReview: Both action buttons have aria-label attributes
5. All icon-only buttons have v-b-tooltip with title attribute
6. aria-labels include entity context (entity_id, batch_id, user_name)
</verification>

<success_criteria>
- All curation action buttons have aria-label - TBL-05
- All icon-only buttons have tooltips - TBL-06
- aria-labels are dynamic (include entity/batch context)
- No lint errors
</success_criteria>

<output>
After completion, create `.planning/phases/36-curation-table-modernization/36-03-SUMMARY.md`
</output>
