---
phase: 75-frontend-fixes-ux-improvements
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/src/constants/docs.ts
  - app/src/views/HomeView.vue
  - app/src/views/review/ReviewInstructions.vue
  - app/src/views/help/DocumentationView.vue
  - app/src/components/HelperBadge.vue
  - app/src/views/pages/GeneView.vue
autonomous: true

must_haves:
  truths:
    - "Documentation links in the application navigate to correct numbered-prefix URLs on GitHub Pages"
    - "All doc URLs are imported from a single constants file, not hardcoded in components"
    - "On the Genes detail view, the Associated Entities section appears above the Constraint Scores and ClinVar sections"
  artifacts:
    - path: "app/src/constants/docs.ts"
      provides: "Centralized documentation URL constants"
      exports: ["DOCS_BASE_URL", "DOCS_URLS"]
    - path: "app/src/views/pages/GeneView.vue"
      provides: "Reordered gene detail page with entities above constraints"
  key_links:
    - from: "app/src/views/HomeView.vue"
      to: "app/src/constants/docs.ts"
      via: "named import"
      pattern: "import.*DOCS_URLS.*from.*constants/docs"
    - from: "app/src/views/review/ReviewInstructions.vue"
      to: "app/src/constants/docs.ts"
      via: "named import"
      pattern: "import.*DOCS_URLS.*from.*constants/docs"
    - from: "app/src/views/help/DocumentationView.vue"
      to: "app/src/constants/docs.ts"
      via: "named import"
      pattern: "import.*DOCS_URLS.*from.*constants/docs"
    - from: "app/src/components/HelperBadge.vue"
      to: "app/src/constants/docs.ts"
      via: "named import"
      pattern: "import.*DOCS_URLS.*from.*constants/docs"
---

<objective>
Centralize documentation URLs into a constants file and reorder the Gene detail page to show Associated Entities above Constraint/ClinVar sections.

Purpose: FE-01 ensures doc URLs are maintainable from one location (the actual URL fix was done in commit 03b2c7ea, this extracts them into constants). UX-02 improves gene page information hierarchy by showing associated entities first.
Output: New constants file, 4 updated component files for doc URLs, reordered GeneView.vue template.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/75-frontend-fixes-ux-improvements/75-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create docs constants file and update all consumers</name>
  <files>
    app/src/constants/docs.ts
    app/src/views/HomeView.vue
    app/src/views/review/ReviewInstructions.vue
    app/src/views/help/DocumentationView.vue
    app/src/components/HelperBadge.vue
  </files>
  <action>
Create a new file `app/src/constants/docs.ts` as single source of truth for all documentation URLs:

```typescript
export const DOCS_BASE_URL = 'https://berntpopp.github.io/sysndd';

export const DOCS_URLS = {
  HOME: `${DOCS_BASE_URL}/`,
  CURATION_CRITERIA: `${DOCS_BASE_URL}/05-curation-criteria.html`,
  RE_REVIEW_INSTRUCTIONS: `${DOCS_BASE_URL}/06-re-review-instructions.html`,
  TUTORIAL_VIDEOS: `${DOCS_BASE_URL}/07-tutorial-videos.html`,
  GITHUB_DISCUSSIONS: 'https://github.com/berntpopp/sysndd/discussions',
  GITHUB_ISSUES: 'https://github.com/berntpopp/sysndd/issues',
} as const;
```

Then update the 4 consumer files to import from constants instead of hardcoding URLs:

1. **HomeView.vue** (line ~359): Replace the hardcoded `href="https://berntpopp.github.io/sysndd/05-curation-criteria.html"` with `:href="DOCS_URLS.CURATION_CRITERIA"`. Add import in script section: `import { DOCS_URLS } from '@/constants/docs';` and expose it (return from setup or add to data).

2. **ReviewInstructions.vue** (lines 25, 40, 55): Replace three hardcoded doc URLs:
   - `href="https://berntpopp.github.io/sysndd/05-curation-criteria.html"` -> `:href="DOCS_URLS.CURATION_CRITERIA"`
   - `href="https://berntpopp.github.io/sysndd/06-re-review-instructions.html"` -> `:href="DOCS_URLS.RE_REVIEW_INSTRUCTIONS"`
   - `href="https://berntpopp.github.io/sysndd/07-tutorial-videos.html"` -> `:href="DOCS_URLS.TUTORIAL_VIDEOS"`
   Add import and expose in component.

3. **DocumentationView.vue** (lines 23, 250, 255): Replace three occurrences of `https://berntpopp.github.io/sysndd/`:
   - Line 23: `href=` -> `:href="DOCS_URLS.HOME"`
   - Line 250: `href=` -> `:href="DOCS_URLS.HOME"`
   - Line 255: text content stays as-is (display text, not a link attribute) OR use a computed/data value if cleaner
   Also replace GitHub discussions URL if present.
   Add import and expose in component.

4. **HelperBadge.vue** (line 62): Replace `href="https://berntpopp.github.io/sysndd/"` with `:href="DOCS_URLS.HOME"`. Also replace discussions URL (line 71). Add import in setup and expose.

IMPORTANT: These components use Options API. Import the constants and either add them to `data()` return, or use setup() to return them, or for simpler components just import and reference directly in the template via a computed/data property.

For Options API components (DocumentationView, HelperBadge), the cleanest approach is to import DOCS_URLS and add it to the `data()` return object or use `setup()` to return it.
  </action>
  <verify>
Run `cd /home/bernt-popp/development/sysndd/app && npx eslint src/constants/docs.ts src/views/HomeView.vue src/views/review/ReviewInstructions.vue src/views/help/DocumentationView.vue src/components/HelperBadge.vue` to check for lint errors.

Run `grep -rn "berntpopp.github.io/sysndd" app/src/` to verify NO hardcoded doc URLs remain in any component (the only remaining occurrences should be in the constants file itself).
  </verify>
  <done>
All documentation URLs in the 4 consumer files are imported from `app/src/constants/docs.ts`. No hardcoded `berntpopp.github.io/sysndd` URLs remain in component files. ESLint passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Reorder Gene detail page sections</name>
  <files>app/src/views/pages/GeneView.vue</files>
  <action>
In `app/src/views/pages/GeneView.vue`, reorder the template sections within the `<template v-else>` block. The current order is:

1. Gene info card (lines 11-54)
2. External genomic data cards - Constraint Scores + ClinVar + Model Organisms (lines 56-91)
3. Genomic Visualizations tabs (lines 93-117)
4. Associated Entities Table (lines 119-127)

Change to new order:

1. Gene info card (unchanged)
2. **Associated Entities Table** (moved up from position 4)
3. External genomic data cards - Constraint Scores + ClinVar + Model Organisms (moved down from position 2)
4. Genomic Visualizations tabs (stays last)

ONLY move the outermost container `<div>` elements and the `<TablesEntities>` component. Do NOT change any props, event handlers, component internal structure, or computed properties. This is purely a template reorder.

The Associated Entities `<TablesEntities>` block to move up:
```vue
<!-- Associated Entities Table -->
<TablesEntities
  v-if="geneData.length !== 0"
  :show-filter-controls="false"
  :show-pagination-controls="false"
  header-label="Associated "
  :filter-input="filterInput"
  :disable-url-sync="true"
/>
```

Move this block to be immediately after the Gene info card `</div>` and before the External genomic data cards `<div class="container-fluid">`.
  </action>
  <verify>
Run `cd /home/bernt-popp/development/sysndd/app && npx eslint src/views/pages/GeneView.vue` to verify no lint errors.
Run `cd /home/bernt-popp/development/sysndd/app && npx vue-tsc --noEmit 2>&1 | head -20` to check for TypeScript errors (or use the project's type-check command).
  </verify>
  <done>
GeneView.vue template shows sections in order: (1) Gene info card, (2) Associated Entities table, (3) Constraint/ClinVar/Model Organisms cards, (4) Genomic Visualizations. No props or event handlers changed. ESLint and TypeScript pass.
  </done>
</task>

</tasks>

<verification>
1. `grep -rn "berntpopp.github.io/sysndd" app/src/ --include="*.vue" --include="*.ts"` shows URLs only in `app/src/constants/docs.ts`
2. `app/src/constants/docs.ts` exports DOCS_BASE_URL and DOCS_URLS
3. In GeneView.vue, TablesEntities appears before GeneConstraintCard in the template
4. ESLint passes for all modified files
</verification>

<success_criteria>
- Documentation URLs centralized in constants file with named exports
- All 4 consumer files import from constants (no hardcoded URLs)
- Gene detail page shows Associated Entities above Constraint Scores
- All linting passes
</success_criteria>

<output>
After completion, create `.planning/phases/75-frontend-fixes-ux-improvements/75-01-SUMMARY.md`
</output>
