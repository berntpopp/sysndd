# Requirements Archive: v5.0 Analysis Modernization

**Archived:** 2026-01-25
**Status:** SHIPPED

This is the archived requirements specification for v5.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: SysNDD v5.0 Analysis Modernization

**Defined:** 2026-01-24
**Core Value:** Transform analysis pages into fast, interconnected, modern visualization experience with true network graphs and professional UI/UX

## v5 Requirements

Requirements for v5.0 release. Each maps to roadmap phases.

### Performance Optimization

- [x] **PERF-01**: Clustering uses Leiden algorithm (2-3x faster than Walktrap) — v5.0
- [x] **PERF-02**: HCPC uses kk=50 pre-partitioning (50-70% faster) — v5.0
- [x] **PERF-03**: MCA uses ncp=8 dimensions (20-30% faster) — v5.0
- [x] **PERF-04**: Cache keys include algorithm name and STRING version — v5.0
- [x] **PERF-05**: functional_clustering endpoint paginated (8.6MB → <500KB per page) — v5.0
- [x] **PERF-06**: Cold start reduced from ~15s to <7s — v5.0
- [x] **PERF-07**: mirai dispatcher pattern for proper timeout handling — v5.0

### Network Visualization

- [x] **NETV-01**: New `/api/analysis/network_edges` endpoint returns Cytoscape.js JSON — v5.0
- [x] **NETV-02**: Cytoscape.js renders force-directed network layout with fcose — v5.0
- [x] **NETV-03**: Network shows actual protein-protein interaction edges — v5.0
- [x] **NETV-04**: Interactive node/edge highlighting on hover — v5.0
- [x] **NETV-05**: Pan and zoom controls for network navigation — v5.0
- [x] **NETV-06**: Click node navigates to entity detail page — v5.0
- [x] **NETV-07**: Rich contextual tooltips show gene symbol, HGNC ID, cluster, phenotypes — v5.0
- [x] **NETV-08**: useCytoscape composable manages lifecycle (init/destroy) — v5.0
- [x] **NETV-09**: useNetworkData composable handles data fetching — v5.0
- [x] **NETV-10**: hideEdgesOnViewport optimization for smooth interactions — v5.0
- [x] **NETV-11**: Proper cy.destroy() cleanup prevents memory leaks — v5.0

### Filters and Search

- [x] **FILT-01**: Column-level text filters on data tables — v5.0
- [x] **FILT-02**: Numeric range filters with comparison operators (FDR < 0.05) — v5.0 (partial: sortCompare missing)
- [x] **FILT-03**: Dropdown categorical filters for enumerated columns (GO, KEGG, MONDO) — v5.0
- [x] **FILT-04**: Wildcard gene search supports patterns (PKD*, BRCA?) — v5.0
- [x] **FILT-05**: Search highlights matching nodes in network — v5.0
- [x] **FILT-06**: CategoryFilter.vue shared component — v5.0
- [x] **FILT-07**: ScoreSlider.vue shared component — v5.0 (partial: presets don't match data)
- [x] **FILT-08**: TermSearch.vue shared component — v5.0

### Navigation and Interlinking

- [x] **NAVL-01**: Navigation tabs across all analysis pages (Phenotype Clusters, Gene Networks, Correlation) — v5.0
- [x] **NAVL-02**: Click cell in correlation heatmap navigates to corresponding cluster — v5.0 (partial: navigates to phenotypes, architectural limitation)
- [x] **NAVL-03**: URL state sync for cluster selection and filters — v5.0
- [x] **NAVL-04**: Bookmarkable/shareable analysis views with query parameters — v5.0
- [x] **NAVL-05**: Bidirectional network-to-table sync (click cluster → filter table) — v5.0
- [x] **NAVL-06**: useFilterSync composable with VueUse useUrlSearchParams — v5.0
- [x] **NAVL-07**: Fix `filter=undefined` bug in Phenotype Clusters entity links — v5.0

### UI/UX Polish

- [x] **UIUX-01**: Color legend for correlation heatmap (-1 to +1 scale) — v5.0
- [x] **UIUX-02**: Enhanced tooltips with correlation interpretation — v5.0
- [x] **UIUX-03**: Enable download buttons (PNG/SVG) on all visualizations — v5.0
- [x] **UIUX-04**: Loading states with progress indication for long operations — v5.0
- [x] **UIUX-05**: Error states with retry buttons — v5.0

## v6 Requirements

Deferred to next milestone. Tracked but not in current roadmap.

### CI/CD & Infrastructure

- **CICD-01**: GitHub Actions CI/CD pipeline
- **CICD-02**: Trivy security scanning in pipeline
- **CICD-03**: URL path versioning (/api/v1/)
- **CICD-04**: Version displayed in frontend

### Frontend Coverage

- **TEST-01**: Expanded frontend test coverage (40-50%)
- **TEST-02**: Vue component TypeScript conversion

### Advanced Network Features

- **ADVN-01**: WebGL renderer for >500 node networks
- **ADVN-02**: Network layout persistence in localStorage
- **ADVN-03**: Gene set upload for custom network generation
- **ADVN-04**: STRINGdb upgrade to v12.0 with database migration

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| 3D network visualization | Depth perception issues, occlusion problems, increased cognitive load |
| Real-time filter updates without debounce | Performance degradation with excessive API calls |
| Infinite scroll on tables | Memory leaks with large datasets; keep cursor-based pagination |
| Combined filter UI in modal/sidebar | Breaks visibility principle; keep column-level filters visible |
| Multi-cluster network overlay | High complexity; defer to v6+ |
| Cluster comparison mode (side-by-side) | High complexity; defer to v6+ |
| Network motif detection | Research feature requiring backend graph algorithms; defer |
| STRINGdb v12.0 upgrade | Requires database STRING_id migration; defer to v6 |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| PERF-01 | Phase 25 | Complete |
| PERF-02 | Phase 25 | Complete |
| PERF-03 | Phase 25 | Complete |
| PERF-04 | Phase 25 | Complete |
| PERF-05 | Phase 25 | Complete |
| PERF-06 | Phase 25 | Complete |
| PERF-07 | Phase 25 | Complete |
| NETV-01 | Phase 26 | Complete |
| NETV-02 | Phase 26 | Complete |
| NETV-03 | Phase 26 | Complete |
| NETV-04 | Phase 26 | Complete |
| NETV-05 | Phase 26 | Complete |
| NETV-06 | Phase 26 | Complete |
| NETV-07 | Phase 26 | Complete |
| NETV-08 | Phase 26 | Complete |
| NETV-09 | Phase 26 | Complete |
| NETV-10 | Phase 26 | Complete |
| NETV-11 | Phase 26 | Complete |
| FILT-01 | Phase 27 | Complete |
| FILT-02 | Phase 27 | Partial (sortCompare missing) |
| FILT-03 | Phase 27 | Complete |
| FILT-04 | Phase 27 | Complete |
| FILT-05 | Phase 27 | Complete |
| FILT-06 | Phase 27 | Complete |
| FILT-07 | Phase 27 | Partial (presets) |
| FILT-08 | Phase 27 | Complete |
| NAVL-01 | Phase 27 | Complete |
| NAVL-02 | Phase 27 | Partial (architectural) |
| NAVL-03 | Phase 27 | Complete |
| NAVL-04 | Phase 27 | Complete |
| NAVL-05 | Phase 27 | Complete |
| NAVL-06 | Phase 27 | Complete |
| NAVL-07 | Phase 27 | Complete |
| UIUX-01 | Phase 27 | Complete |
| UIUX-02 | Phase 27 | Complete |
| UIUX-03 | Phase 27 | Complete |
| UIUX-04 | Phase 27 | Complete |
| UIUX-05 | Phase 27 | Complete |

**Coverage:**
- v5 requirements: 37 total
- Complete: 34 (92%)
- Partial: 3 (8%)

---

## Milestone Summary

**Shipped:** 34 of 37 v5 requirements (92%)
**Partial:** 3 requirements (non-blocking tech debt)
- FILT-02: FDR sorting needs sortCompare function
- FILT-07: ScoreSlider presets need domain-specific values
- NAVL-02: Correlation → cluster navigation architecturally infeasible

**Dropped:** 0 requirements

---
*Archived: 2026-01-25 as part of v5.0 milestone completion*
