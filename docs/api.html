<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter | 3 API | The SysNDD Documentation</title>
  <meta name="description" content="This documentation is intended to describe the SysNDD project and provide instructions for regular users how to use the tool and for curator status users how to perform reviews and how to enter data" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter | 3 API | The SysNDD Documentation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This documentation is intended to describe the SysNDD project and provide instructions for regular users how to use the tool and for curator status users how to perform reviews and how to enter data" />
  <meta name="github-repo" content="berntpopp/sysndd" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter | 3 API | The SysNDD Documentation" />
  
  <meta name="twitter:description" content="This documentation is intended to describe the SysNDD project and provide instructions for regular users how to use the tool and for curator status users how to perform reviews and how to enter data" />
  

<meta name="author" content="Bernt Popp, Melek Firat Altay, Christiane Zweier" />


<meta name="date" content="2023-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="web-tool.html"/>
<link rel="next" href="database-structure.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SysNDD Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#history-of-sysid-and-sysndd"><i class="fa fa-check"></i>History of SysID and SysNDD</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-sysndd-concept"><i class="fa fa-check"></i>The SysNDD concept</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#support-and-funding"><i class="fa fa-check"></i>Support and Funding</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html"><i class="fa fa-check"></i><b>1</b> Curating gene-disease relationships</a>
<ul>
<li class="chapter" data-level="1.1" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html#neurodevelopmental-disorders"><i class="fa fa-check"></i><b>1.1</b> Neurodevelopmental disorders</a></li>
<li class="chapter" data-level="1.2" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html#genetic-heterogeneity"><i class="fa fa-check"></i><b>1.2</b> Genetic heterogeneity</a></li>
<li class="chapter" data-level="1.3" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html#expert-curation"><i class="fa fa-check"></i><b>1.3</b> Expert curation</a></li>
<li class="chapter" data-level="1.4" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html#technical-concepts"><i class="fa fa-check"></i><b>1.4</b> Technical concepts</a></li>
<li class="chapter" data-level="1.5" data-path="curating-gene-disease-relationships.html"><a href="curating-gene-disease-relationships.html#outlook"><i class="fa fa-check"></i><b>1.5</b> Outlook</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="web-tool.html"><a href="web-tool.html"><i class="fa fa-check"></i><b>2</b> Web tool</a>
<ul>
<li class="chapter" data-level="2.1" data-path="web-tool.html"><a href="web-tool.html#landing-page"><i class="fa fa-check"></i><b>2.1</b> Landing page</a></li>
<li class="chapter" data-level="2.2" data-path="web-tool.html"><a href="web-tool.html#main-navigation-menu"><i class="fa fa-check"></i><b>2.2</b> Main navigation menu</a></li>
<li class="chapter" data-level="2.3" data-path="web-tool.html"><a href="web-tool.html#footer-navigation-menu"><i class="fa fa-check"></i><b>2.3</b> Footer navigation menu</a></li>
<li class="chapter" data-level="2.4" data-path="web-tool.html"><a href="web-tool.html#table-views"><i class="fa fa-check"></i><b>2.4</b> Table views</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="web-tool.html"><a href="web-tool.html#entities-table"><i class="fa fa-check"></i><b>2.4.1</b> Entities table</a></li>
<li class="chapter" data-level="2.4.2" data-path="web-tool.html"><a href="web-tool.html#genes-table"><i class="fa fa-check"></i><b>2.4.2</b> Genes table</a></li>
<li class="chapter" data-level="2.4.3" data-path="web-tool.html"><a href="web-tool.html#phenotypes-table"><i class="fa fa-check"></i><b>2.4.3</b> Phenotypes table</a></li>
<li class="chapter" data-level="2.4.4" data-path="web-tool.html"><a href="web-tool.html#panels-table"><i class="fa fa-check"></i><b>2.4.4</b> Panels table</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="web-tool.html"><a href="web-tool.html#single-entry-pages"><i class="fa fa-check"></i><b>2.5</b> Single entry pages</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="web-tool.html"><a href="web-tool.html#entity"><i class="fa fa-check"></i><b>2.5.1</b> Entity</a></li>
<li class="chapter" data-level="2.5.2" data-path="web-tool.html"><a href="web-tool.html#gene"><i class="fa fa-check"></i><b>2.5.2</b> Gene</a></li>
<li class="chapter" data-level="2.5.3" data-path="web-tool.html"><a href="web-tool.html#ontology"><i class="fa fa-check"></i><b>2.5.3</b> Ontology</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="web-tool.html"><a href="web-tool.html#analyses-views"><i class="fa fa-check"></i><b>2.6</b> Analyses views</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="web-tool.html"><a href="web-tool.html#compare-curations"><i class="fa fa-check"></i><b>2.6.1</b> Compare curations</a></li>
<li class="chapter" data-level="2.6.2" data-path="web-tool.html"><a href="web-tool.html#correlate-phenotypes"><i class="fa fa-check"></i><b>2.6.2</b> Correlate phenotypes</a></li>
<li class="chapter" data-level="2.6.3" data-path="web-tool.html"><a href="web-tool.html#entries-over-time"><i class="fa fa-check"></i><b>2.6.3</b> Entries over time</a></li>
<li class="chapter" data-level="2.6.4" data-path="web-tool.html"><a href="web-tool.html#ndd-publications"><i class="fa fa-check"></i><b>2.6.4</b> NDD Publications</a></li>
<li class="chapter" data-level="2.6.5" data-path="web-tool.html"><a href="web-tool.html#functional-clusters"><i class="fa fa-check"></i><b>2.6.5</b> Functional clusters</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="web-tool.html"><a href="web-tool.html#about-page"><i class="fa fa-check"></i><b>2.7</b> About page</a></li>
<li class="chapter" data-level="2.8" data-path="web-tool.html"><a href="web-tool.html#login-page"><i class="fa fa-check"></i><b>2.8</b> Login page</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="web-tool.html"><a href="web-tool.html#register-user-page"><i class="fa fa-check"></i><b>2.8.1</b> Register user page</a></li>
<li class="chapter" data-level="2.8.2" data-path="web-tool.html"><a href="web-tool.html#reset-password-page"><i class="fa fa-check"></i><b>2.8.2</b> Reset password page</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="web-tool.html"><a href="web-tool.html#mobile-website"><i class="fa fa-check"></i><b>2.9</b> Mobile website</a></li>
<li class="chapter" data-level="2.10" data-path="web-tool.html"><a href="web-tool.html#progressive-web-app-pwa"><i class="fa fa-check"></i><b>2.10</b> Progressive Web App (PWA)</a></li>
<li class="chapter" data-level="2.11" data-path="web-tool.html"><a href="web-tool.html#performance"><i class="fa fa-check"></i><b>2.11</b> Performance</a></li>
<li class="chapter" data-level="2.12" data-path="web-tool.html"><a href="web-tool.html#security"><i class="fa fa-check"></i><b>2.12</b> Security</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="api.html"><a href="api.html"><i class="fa fa-check"></i><b>3</b> API</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="api.html"><a href="api.html#endpoints"><i class="fa fa-check"></i><b>3.0.1</b> Endpoints</a></li>
<li class="chapter" data-level="3.0.2" data-path="api.html"><a href="api.html#usage-policy"><i class="fa fa-check"></i><b>3.0.2</b> Usage policy</a></li>
<li class="chapter" data-level="3.0.3" data-path="api.html"><a href="api.html#authentication-and-authorization"><i class="fa fa-check"></i><b>3.0.3</b> Authentication and authorization</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="database-structure.html"><a href="database-structure.html"><i class="fa fa-check"></i><b>4</b> Database structure</a></li>
<li class="chapter" data-level="5" data-path="curation-criteria.html"><a href="curation-criteria.html"><i class="fa fa-check"></i><b>5</b> Curation criteria</a>
<ul>
<li class="chapter" data-level="5.1" data-path="curation-criteria.html"><a href="curation-criteria.html#definitions"><i class="fa fa-check"></i><b>5.1</b> Definitions</a></li>
<li class="chapter" data-level="5.2" data-path="curation-criteria.html"><a href="curation-criteria.html#ndd-definitive-entities"><i class="fa fa-check"></i><b>5.2</b> NDD Definitive entities</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="curation-criteria.html"><a href="curation-criteria.html#strong-criteria"><i class="fa fa-check"></i><b>5.2.1</b> Strong criteria</a></li>
<li class="chapter" data-level="5.2.2" data-path="curation-criteria.html"><a href="curation-criteria.html#moderate-criteria"><i class="fa fa-check"></i><b>5.2.2</b> Moderate criteria</a></li>
<li class="chapter" data-level="5.2.3" data-path="curation-criteria.html"><a href="curation-criteria.html#possible-negative-criteria"><i class="fa fa-check"></i><b>5.2.3</b> Possible negative criteria</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="curation-criteria.html"><a href="curation-criteria.html#ndd-moderate-and-limited-entities"><i class="fa fa-check"></i><b>5.3</b> NDD Moderate and Limited entities</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="curation-criteria.html"><a href="curation-criteria.html#exclusion-criteria"><i class="fa fa-check"></i><b>5.3.1</b> Exclusion criteria</a></li>
<li class="chapter" data-level="5.3.2" data-path="curation-criteria.html"><a href="curation-criteria.html#when-to-choose-category-2-moderate"><i class="fa fa-check"></i><b>5.3.2</b> When to choose category 2 (“Moderate”)?</a></li>
<li class="chapter" data-level="5.3.3" data-path="curation-criteria.html"><a href="curation-criteria.html#special-case-non-ndd-entities"><i class="fa fa-check"></i><b>5.3.3</b> Special case: non-NDD entities</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="re-review-instructions.html"><a href="re-review-instructions.html"><i class="fa fa-check"></i><b>6</b> Re-review instructions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="re-review-instructions.html"><a href="re-review-instructions.html#re-review-tool-usage"><i class="fa fa-check"></i><b>6.1</b> Re-review tool usage</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="re-review-instructions.html"><a href="re-review-instructions.html#login"><i class="fa fa-check"></i><b>6.1.1</b> Login</a></li>
<li class="chapter" data-level="6.1.2" data-path="re-review-instructions.html"><a href="re-review-instructions.html#review-page"><i class="fa fa-check"></i><b>6.1.2</b> Review page</a></li>
<li class="chapter" data-level="6.1.3" data-path="re-review-instructions.html"><a href="re-review-instructions.html#new-review-edit"><i class="fa fa-check"></i><b>6.1.3</b> New Review edit</a></li>
<li class="chapter" data-level="6.1.4" data-path="re-review-instructions.html"><a href="re-review-instructions.html#new-status-edit"><i class="fa fa-check"></i><b>6.1.4</b> New Status edit</a></li>
<li class="chapter" data-level="6.1.5" data-path="re-review-instructions.html"><a href="re-review-instructions.html#submit-re-review"><i class="fa fa-check"></i><b>6.1.5</b> Submit Re-review</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="re-review-instructions.html"><a href="re-review-instructions.html#re-review-curation"><i class="fa fa-check"></i><b>6.2</b> Re-review curation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="re-review-instructions.html"><a href="re-review-instructions.html#definitive-association-status"><i class="fa fa-check"></i><b>6.2.1</b> Definitive association status</a></li>
<li class="chapter" data-level="6.2.2" data-path="re-review-instructions.html"><a href="re-review-instructions.html#moderate-and-limited-association-status"><i class="fa fa-check"></i><b>6.2.2</b> Moderate and Limited association status</a></li>
<li class="chapter" data-level="6.2.3" data-path="re-review-instructions.html"><a href="re-review-instructions.html#refuted-association-status"><i class="fa fa-check"></i><b>6.2.3</b> Refuted association status</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The SysNDD Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="api" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter | 3</span> API<a href="api.html#api" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<p>The SysNDD api (application programming interface) is available from <a href="https://sysndd.dbmr.unibe.ch/API">https://sysndd.dbmr.unibe.ch/API</a>.</p>
<p>The api is written in R using the <a href="https://www.rplumber.io/">plumber package</a>.</p>
<p>We intend to follow the <a href="https://swagger.io/specification/">Swagger/ OpenAPI</a> and <a href="https://jsonapi.org/">JSON:API</a> specifications.</p>
<p>The api scripts run in a Docker container using the official “rocker/tidyverse” image (version 4.2.0).</p>
<p>As R is single threaded, we deploy multiple instances of the api container. These are bundled together using <a href="http://www.haproxy.org/">HAProxy</a> load balancer.</p>
<p>The api is rate limited through our <a href="https://www.nginx.com/">NGINX</a> web server configuration with a rate limit of 10 requests per second (10r/s; equals 1 request every 100 milliseconds) per requesting ip. The configuration allows bursts of up to 30r/s but introduces a delay after 10 requests to enforce the rate limit.</p>
<div id="endpoints" class="section level3 hasAnchor" number="3.0.1">
<h3><span class="header-section-number">3.0.1</span> Endpoints<a href="api.html#endpoints" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The SysNDD api currently contains all endpoints for externala nd internal usage in one api script. This may change with future releases.</p>
<p>The api is structured into different components based on the SysND concept:</p>
<ul>
<li>entity: Entity related endpoints</li>
<li>review: Reviews related endpoints</li>
<li>status: Status related endpoints</li>
<li>re_review: Re-review related endpoints</li>
<li>publication: Publication related endpoints</li>
<li>gene: Gene related endpoints</li>
<li>ontology: Ontology related endpoints</li>
<li>inheritance: Inheritance related endpoints</li>
<li>phenotype: Phenoptype related endpoints</li>
<li>panels: Gene panel related endpoints</li>
<li>comparisons: NDD gene list comparisons related endpoints</li>
<li>search: Database search related endpoints</li>
<li>list: Database list related endpoints</li>
<li>statistics: Database statistics</li>
<li>user: User account related endpoints</li>
<li>authentication: Authentication related endpoints</li>
</ul>
<p>The endpoints are documented and can be tested using the Swagger/ OpenAPI user interface at <a href="https://sysndd.dbmr.unibe.ch/API">https://sysndd.dbmr.unibe.ch/API</a>.
Here one can generate cURL requests to use in external software.</p>
</div>
<div id="usage-policy" class="section level3 hasAnchor" number="3.0.2">
<h3><span class="header-section-number">3.0.2</span> Usage policy<a href="api.html#usage-policy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The SysNDD api powers the web tool for everyday users. We also provide the SysNDD api free to allow users to use the SysNDD data and build on it by creating software or services that connect to our platform.</p>
<p>Usage requirements:
- optimize your requests to stay in the above described limits
- be sensible about re-using data (e.g., store your requests until data is updated on our server)
- use pagination where possible instead of requesting large data chunks (e.g., restrict usage of “all” option in large, potentially blocking list endpoints like “entity” and “gene”)
- if you require more api ressources please get in contact</p>
<p>Updates and disclaimer:
- We provide the SysNDD api as-is.
- Due to the current development status (version 0.X.Y) we may update or modify the api any time. These changes may affect your use of the api or the way your integration interacts with the api.</p>
</div>
<div id="authentication-and-authorization" class="section level3 hasAnchor" number="3.0.3">
<h3><span class="header-section-number">3.0.3</span> Authentication and authorization<a href="api.html#authentication-and-authorization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The SysNDD api uses JSON Web Tokens (<a href="https://jwt.io/">JWT</a>) to implement stateless authentication and authorization.</p>
<p>The api user can manually (test purposes) request a token by entering their login credentials in the ionput form provided at the “api/auth/authenticate” endpoint:</p>
<div class="figure">
<img src="static/img/03_01-api-authenticate.png" max-width="1000px" alt="" />
<p class="caption">Authenticate endpoint</p>
</div>
<p>This endpoint will generate and respond with and JWT token:</p>
<div class="figure">
<img src="static/img/03_02-JWT-token.png" max-width="1000px" alt="" />
<p class="caption">JWT token</p>
</div>
<p>This Bearer token can then be copied and entered in the OpenAPI/ Swagger authorize modal which opens after clicking the “Authorize” modal button at the upper right corner:</p>
<div class="figure">
<img src="static/img/03_03-api-authorize-a.png" max-width="1000px" alt="" />
<p class="caption">Authorize button</p>
</div>
<div class="figure">
<img src="static/img/03_04-api-authorize-b.png" max-width="1000px" alt="" />
<p class="caption">Authorize modal prompt</p>
</div>
<p>After entereing the token in the respective field (1) and cklicking the “Authorize” submission button the modal will change and show the login status. This field can be closed now:</p>
<div class="figure">
<img src="static/img/03_05-api-authorize-c.png" max-width="1000px" alt="" />
<p class="caption">Authorize modal logged in</p>
</div>
<p>The user is now fully authenticated and can access the endpoints requiring user rights:</p>
<div class="figure">
<img src="static/img/03_06-api-authorize-d.png" max-width="1000px" alt="" />
<p class="caption">API logged in</p>
</div>
<p>The token is valid for 60 minutes. It can be refreshed using the endpoint “api/auth/refresh”.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="web-tool.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="database-structure.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/berntpopp/sysndd/tree/master/edit_docs/03-api.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/berntpopp/sysndd/tree/master/docs/03-api.Rmd",
"text": null
},
"download": [["SysNDD_documentation.pdf", "PDF"], ["SysNDD_documentation.epub", "EPUB"], ["SysNDD_documentation.docx", "DOCX"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
